var 
    log4js = require('log4js');
module.exports = function (mods) {
    
    /*
    * 获取全局mods变量
    * <模型名称(string)>
    */
    function  getglobalMods(name) {
        var 
            nowMod = global.mods[name] || null;
        return nowMod;
    }
    
    
    /*
     * 日志模块
     */
    log = (function (config) {
        var 
            log = getglobalMods('log') || function (b) { };
        
        if (!log.cache) {
            log.cache = true;
            //设置参数
            log.setConfig = function (op) {
                config = op;
                log.config = log.config?((config.cover == true)?config:log.config):config;
            }

        }
        
        return log;
    })(mods.log);
    
    
    return {
        log: log
    };
}