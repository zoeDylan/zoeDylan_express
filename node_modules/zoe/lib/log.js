var 
    log4js = require('log4js');
module.exports = function () { 
    var 
        defConfig = {
        "appenders": [     
            { "type": "console" },  
            { "type": "dateFile", "filename": global.settings.log + 'info_', "pattern": "yyyyMMddhh.txt", "alwaysIncludePattern": true, "category": "info", "maxLogSize": 2048, },  
            { "type": "dateFile", "filename": global.settings.log + 'error_', "pattern": "yyyyMMddhh.txt", "alwaysIncludePattern": true, "category": "error", "maxLogSize": 2048, },  
            { "type": "dateFile", "filename": global.settings.log + 'warn_', "pattern": "yyyyMMddhh.txt", "alwaysIncludePattern": true, "category": "warn", "maxLogSize": 2048, },  
            { "type": "dateFile", "filename": global.settings.log + 'fatal_', "pattern": "yyyyMMddhh.txt", "alwaysIncludePattern": true, "category": "fatal", "maxLogSize": 2048, },  
            { "type": "dateFile", "filename": global.settings.log + 'debug_', "pattern": "yyyyMMddhh.txt", "alwaysIncludePattern": true, "category": "debug", "maxLogSize": 2048, }
        ]
    }
    log4js.configure(defConfig);
    
    var 
        info = log4js.getLogger('info'),
        error = log4js.getLogger('error'),
        warn = log4js.getLogger('warn'),
        debug = log4js.getLogger('debug'),
        fatal = log4js.getLogger('fatal'),
        log = function (mes) {
            info.info(mes);
        };
    
    log.info = function (mes) {
        info.info(mes);
    }
    
    log.error = function (mes) {
        error.error(mes);
    }
    
    log.warn = function (mes) {
        warn.warn(mes);
    }
    
    log.debug = function (mes) {
        debug.debug(mes);
    }
    
    log.fatal = function (mes) {
        fatal.fatal(mes);
    }
    
    return log;
}