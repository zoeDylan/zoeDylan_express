var 
    log4js = require('log4js');
module.exports = function (config) {
    var 
        defConfig = {
        "appenders": [     
            { "type": "console" },  
            { "type": "dateFile", "filename": global.settings.log + 'info_', "pattern": "yyyyMMddhhmm.txt", "alwaysIncludePattern": true, "category": "info", "maxLogSize": 20480, },  
            { "type": "dateFile", "filename": global.settings.log + 'error_', "pattern": "yyyyMMddhhmm.txt", "alwaysIncludePattern": true, "category": "error", "maxLogSize": 20480, },  
            { "type": "dateFile", "filename": global.settings.log + 'warn_', "pattern": "yyyyMMddhhmm.txt", "alwaysIncludePattern": true, "category": "warn", "maxLogSize": 20480, },  
            { "type": "dateFile", "filename": global.settings.log + 'fatal_', "pattern": "yyyyMMddhhmm.txt", "alwaysIncludePattern": true, "category": "fatal", "maxLogSize": 20480, },  
            { "type": "dateFile", "filename": global.settings.log + 'debug_', "pattern": "yyyyMMddhhmm.txt", "alwaysIncludePattern": true, "category": "debug", "maxLogSize": 20480, }
        ]
    }
    
    log4js.configure(config);
    var 
        info = log4js.getLogger('info'),
        error = log4js.getLogger('error'),
        warn = log4js.getLogger('warn'),
        debug = log4js.getLogger('debug'),
        fatal = log4js.getLogger('fatal'),
        log = function (mes) {
            log4.info(mes);
        };
     /*
      * 待添加log的各个消息类型
      */ 

    return log;
}